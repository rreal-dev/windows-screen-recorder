```markdown
# Manual de Creación de Instalador para Screen Recorder Pro

Este manual detalla el proceso de desarrollo, compilación, empaquetado y creación de un instalador para la aplicación Screen Recorder Pro.

## Prerrequisitos
- Python 3.11
- Inno Setup
- MSYS2 (para compilar el bootloader de PyInstaller)
- PyInstaller

## Desarrollo de la Aplicación
1. Desarrollar la aplicación en Python.
2. Asegúrate de que el código fuente de tu aplicación esté completamente funcional.
3. Utiliza bibliotecas necesarias como PyQt5, moviepy, numpy, etc.

## Compilación de la Aplicación con PyInstaller
1. Instalar PyInstaller y otras dependencias:

    ```sh
    pip install pyinstaller
    ```

2. Clonar el repositorio de PyInstaller:

    ```sh
    git clone https://github.com/pyinstaller/pyinstaller.git
    cd pyinstaller
    ```

3. Crear el archivo de especificaciones para PyInstaller (`screen_recorder.spec`):

    ```python
    # screen_recorder.spec
    # -*- mode: python ; coding: utf-8 -*-

    block_cipher = None

    a = Analysis(
        ['main.py'],
        pathex=['G:\\Mi unidad\\screen-recorder'],
        binaries=[],
        datas=[],
        hiddenimports=[],
        hookspath=[],
        runtime_hooks=[],
        excludes=[],
        win_no_prefer_redirects=False,
        win_private_assemblies=False,
        cipher=block_cipher,
    )
    pyz = PYZ(a.pure, a.zipped_data, cipher=block_cipher)

    exe = EXE(
        pyz,
        a.scripts,
        [],
        exclude_binaries=True,
        name='screen_recorder',
        debug=False,
        bootloader_ignore_signals=False,
        strip=False,
        upx=True,
        console=False,
        icon='icon.ico'
    )
    coll = COLLECT(
        exe,
        a.binaries,
        a.zipfiles,
        a.datas,
        strip=False,
        upx=True,
        upx_exclude=[],
        name='screen_recorder'
    )
    ```

4. Compilar la aplicación con PyInstaller:

    ```sh
    pyinstaller screen_recorder.spec
    ```

    Si PyInstaller no incluye un bootloader precompilado para tu plataforma, debes compilarlo manualmente.

## Compilación del Bootloader de PyInstaller
1. Instalar MSYS2:

    Descarga e instala MSYS2 desde [msys2.org](https://www.msys2.org/).

2. Abrir MSYS2 y actualizar los paquetes:

    ```sh
    pacman -Syu
    ```

3. Instalar herramientas de desarrollo y Python:

    ```sh
    pacman -S base-devel mingw-w64-x86_64-toolchain mingw-w64-x86_64-python
    ```

4. Configurar el entorno de Python en MSYS2:

    ```sh
    export PATH="/mingw64/bin:$PATH"
    ```

5. Instalar dependencias adicionales necesarias para PyInstaller en MSYS2:

    ```sh
    pacman -S mingw-w64-x86_64-python-pip mingw-w64-x86_64-python-setuptools
    ```

6. Navegar al directorio del bootloader de PyInstaller:

    ```sh
    cd pyinstaller/bootloader
    ```

7. Configurar y compilar el bootloader:

    ```sh
    python3 ./waf distclean all
    ```

8. Copiar los bootloaders compilados a tu entorno virtual:

    ```sh
    cp -r build/debug/* "/g/Mi unidad/screen-recorder/venv/Lib/site-packages/PyInstaller/bootloader/Windows-64bit-intel/"
    cp -r build/release/* "/g/Mi unidad/screen-recorder/venv/Lib/site-packages/PyInstaller/bootloader/Windows-64bit-intel/"
    cp -r build/debugw/* "/g/Mi unidad/screen-recorder/venv/Lib/site-packages/PyInstaller/bootloader/Windows-64bit-intel/"
    cp -r build/releasew/* "/g/Mi unidad/screen-recorder/venv/Lib/site-packages/PyInstaller/bootloader/Windows-64bit-intel/"
    ```

## Crear Instalador con Inno Setup
1. Instalar Inno Setup:

    Descarga e instala Inno Setup desde [jrsoftware.org](https://www.jrsoftware.org/).

2. Crear un script de instalación (`screen_recorder.iss`):

    ```iss
    #define SetupIconFile "icon.ico"
    ; Script generated by the Inno Setup Script Wizard.
    ; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!

    [Setup]
    ; NOTE: The value of AppId uniquely identifies this application.
    ; Do not use the same AppId value in installers for other applications.
    ; (To generate a new GUID, click Tools | Generate GUID inside the IDE.)
    AppId={{GENERATE-A-NEW-GUID-HERE}}
    AppName=Screen Recorder Pro
    AppVersion=1.0
    ;AppVerName=Screen Recorder Pro 1.0
    AppPublisher=rreal-dev free-code
    AppPublisherURL=https://github.com/rreal-dev
    AppSupportURL=rrealgo1@gmail.com
    DefaultDirName={pf}\Screen Recorder Pro
    DefaultGroupName=Screen Recorder Pro
    AllowNoIcons=yes
    OutputDir=.
    OutputBaseFilename=setup
    Compression=lzma
    SolidCompression=yes
    SetupIconFile={#SetupIconFile}

    [Languages]
    Name: "english"; MessagesFile: "compiler:Default.isl"

    [Tasks]
    Name: "desktopicon"; Description: "{cm:CreateDesktopIcon}"; GroupDescription: "{cm:AdditionalIcons}"; Flags: unchecked

    [Files]
    Source: "dist\*"; DestDir: "{app}"; Flags: ignoreversion recursesubdirs createallsubdirs
    ; NOTE: Don't use "Flags: ignoreversion" on any shared system files

    [Icons]
    Name: "{group}\Screen Recorder Pro"; Filename: "{app}\screen_recorder.exe"
    Name: "{commondesktop}\Screen Recorder Pro"; Filename: "{app}\screen_recorder.exe"; Tasks: desktopicon

    [Run]
    Filename: "{app}\screen_recorder.exe"; Description: "{cm:LaunchProgram,Screen Recorder Pro}"; Flags: nowait postinstall skipifsilent
    ```

3. Compilar el instalador con Inno Setup:

    - Abre Inno Setup y carga el archivo `screen_recorder.iss`.
    - Haz clic en "Compile" para generar el instalador.

## Finalización
- Una vez completado, encontrarás el archivo `setup.exe` en el directorio especificado en el script de Inno Setup (`OutputDir`).
- Ejecuta el instalador para verificar que todo funcione correctamente.

Este proceso asegura que tu aplicación está correctamente empaquetada y lista para ser distribuida con un instalador profesional.
```